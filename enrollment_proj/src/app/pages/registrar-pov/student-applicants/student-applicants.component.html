<div class="container-dashboard">
  <app-registrar-sidebar></app-registrar-sidebar>
  <div class="main-content">
    <div class="fixed-background"></div>
    <app-registrar-navbar></app-registrar-navbar>
    <div class="container-fluid vh-100 enrolled">
      <!-- <div class="divider mb-4"></div> -->
      <div class="bg-white w-100 rounded">
        <div class="text-start text-header rounded-top shadow w-100 py-2 ps-3">
          <h3 class="text-white fw-bold h5 m-0">Pending Enrollees</h3>
        </div>
        <div class="container py-3">
          <div class="row">
            <div class="col-6 text-start">
              <label for="search" class="mx-1 mb-3"> Search: </label>
              <input
                type="search"
                aria-label="search"
                [(ngModel)]="filterObj.name"
                (input)="onSearchInputChange()"
                id="search"
              />
            </div>
            <div class="col-6 text-end">{{ this.total }} Total of Students</div>
          </div>
          <div class="table-responsive">
            <table
              id="example"
              class="table table-striped table-sm align-middle"
              style="width: 100%"
            >
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Course/Year</th>
                  <th>Registration</th>
                  <th>Date</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                <!-- Use ngIf to check if there are students -->
                <ng-container
                  *ngIf="students && students.length > 0; else noRecords"
                >
                  <!-- Iterate over students and display table rows -->
                  <tr *ngFor="let student of students">
                    <td>{{ student.id }}</td>
                    <td class="text-uppercase">
                      {{ student.lastname }}, {{ student.firstname }}
                      {{ student.middlename }}
                    </td>
                    <td *ngIf="student.student_yr_lvl === '1'">
                      {{ student.course }}/1st Year
                    </td>
                    <td *ngIf="student.student_yr_lvl === '2'">
                      {{ student.course }}/2nd Year
                    </td>
                    <td *ngIf="student.student_yr_lvl === '3'">
                      {{ student.course }}/3rd Year
                    </td>
                    <td *ngIf="student.student_yr_lvl === '4'">
                      {{ student.course }}/4th Year
                    </td>
                    <td>â‚±500</td>
                    <td>08/20/2024</td>
                    <td>
                      <div
                        class="d-flex gap-2 align-item-center justify-content-center"
                      >
                        <button
                          [id]="student.id"
                          class="btn btn-success btn-sm text-center information"
                          data-bs-toggle="modal"
                          data-bs-target="#studView"
                          (click)="studentInfo(student.id)"
                        >
                          Approve
                        </button>
                        <button class="btn btn-sm btn-danger">Delete</button>
                      </div>
                    </td>
                  </tr>
                </ng-container>
                <!-- If no records are found, display a message -->
                <ng-template #noRecords>
                  <tr>
                    <td colspan="6" class="text-center">No Records Found</td>
                  </tr>
                </ng-template>
              </tbody>
            </table>
            <div class="row table-under">
              <div class="d-flex justify-content-center">
                <div class="">
                  <nav aria-label="Page navigation example ">
                    <ul class="pagination">
                      <li
                        class="page-item"
                        (click)="onPrevious()"
                        [class.disabled]="filterObj.page === 1"
                      >
                        <a class="page-link" tabindex="-1" aria-disabled="true">
                          Previous
                        </a>
                      </li>
                      <li
                        class="page-item"
                        *ngFor="let pageNum of generatePageNumbers()"
                      >
                        <p
                          class="page-link"
                          (click)="goToPage(pageNum)"
                          [class.active]="pageNum === filterObj.page"
                        >
                          {{ pageNum }}
                        </p>
                      </li>

                      <li
                        class="page-item"
                        (click)="onNext()"
                        [class.disabled]="filterObj.page === totalPage"
                      >
                        <a class="page-link"> Next </a>
                      </li>
                    </ul>
                  </nav>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <p class="opacity-0 my-3">space</p>
    </div>
  </div>
</div>
