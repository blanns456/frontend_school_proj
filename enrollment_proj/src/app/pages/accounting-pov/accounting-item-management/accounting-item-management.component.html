<div class="container-dashboard">
  <app-accounting-sidebar></app-accounting-sidebar>
  <div class="main-content">
    <div class="fixed-background"></div>
    <app-accounting-navbar></app-accounting-navbar>
    <div class="container-fluid containerTab">
      <!-- <div class="divider mb-4"></div> -->
      <div class="contentTab mb-3 bg-white w-100 rounded">
        <div class="text-start text-header rounded-top shadow w-100 py-2 ps-3">
          <h3 class="text-white fw-bold">Item Management</h3>
        </div>
        <div class="d-flex justify-content-between">
          <p-multiSelect
            [options]="selectFilter"
            optionLabel="itemname"
            placeholder="Add Filter"
            class="m-2"
            display="chip"
            [filter]="true"
            [showClear]="true"
            [(ngModel)]="selectedFilters"
            (ngModelChange)="filterData()"
            [style]="{ width: '150%' }"
          ></p-multiSelect>
          <button
            class="btn btnAddFees text-white m-2"
            data-bs-toggle="modal"
            data-bs-target="#newItems"
          >
            <i class="fa-solid fa-file-circle-plus mx-2"></i>New Item
          </button>
        </div>
        <div class="container my-2">
          <!-- <table class="table table-striped" style="width: 100%">
            <thead>
              <tr>
                <th>Item Name</th>
                <th>Status</th>
                <th>Item Group</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let items of matriculation">
                <td>{{ items.itemname }}</td>
                <td><span class="badge text-bg-success">Enabled</span></td>
                <td>{{ items.itemgroup || items.item_group }}</td>
                <td>
                  <button class="btn btn-secondary">
                    <a><i class="fa-solid fa-pen"></i></a>
                  </button>
                  <button class="btn btn-danger mx-2">
                    <a routerLink="/test"
                      ><i class="fa-solid fa-trash text-white"></i
                    ></a>
                  </button>
                </td>
              </tr>
            </tbody>
          </table> -->
          <p-table
            #dt
            [columns]="cols"
            [value]="matriculation"
            [tableStyle]="{ 'min-width': '50rem' }"
          >
            <ng-template pTemplate="header" let-columns>
              <tr>
                <th>Item Name</th>
                <th>Item Group</th>
                <th>Action</th>
              </tr>
              <tr>
                <th>
                  <p-columnFilter type="text" field="itemname"></p-columnFilter>
                </th>
                <th>
                  <p-columnFilter
                    type="text"
                    field="itemgroup"
                  ></p-columnFilter>
                </th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item>
              <tr>
                <td>{{ item.itemname }}</td>
                <td>{{ item.itemgroup }}</td>
                <td>
                  <button class="btn btn-secondary">
                    <a><i class="fa-solid fa-pen"></i></a>
                  </button>
                  <button class="btn btn-danger mx-2">
                    <a routerLink="/test"
                      ><i class="fa-solid fa-trash text-white"></i
                    ></a>
                  </button>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- MODAL -->
<div
  class="modal fade"
  id="newItems"
  tabindex="-1"
  aria-labelledby="newItemsLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 fw-bold" id="newItemsLabel">New Item</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <p-toast></p-toast>
      <div class="modal-body">
        <form class="px-1" [formGroup]="addItemForm" (ngSubmit)="submitItems()">
          <div
            class="inputGroup row d-flex justify-content-center align-items-center"
          >
            <div class="col-10 my-4">
              <label for="itemName">Item Name:</label>
              <input
                class="inputs"
                type="text"
                id="itemName"
                name="itemName"
                formControlName="itemName"
                placeholder="input here"
              />
            </div>
            <div class="col-10">
              <label for="itemGroup">Item Group:</label>
              <select
                class="inputs"
                name="itemGroup"
                id="itemGroup"
                formControlName="itemGroup"
              >
                <option selected hidden>Select Item</option>
                <option
                  *ngFor="let matri of matrigroups"
                  value="{{ matri.id }}"
                >
                  {{ matri.item_group }}
                </option>
              </select>
            </div>
            <button
              pButton
              pRipple
              type="submit"
              class="btn btn-primary mt-4 w-50"
            >
              Save changes
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
