<div class="container containerTab">
  <p-card header="Sections">
    <p-table
      [value]="sections"
      styleClass="p-datatable-gridlines"
      [tableStyle]="{ 'min-width': '50rem' }"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>Course</th>
          <th>Academic Level</th>
          <th>Section Number</th>
          <th>Action</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-section>
        <tr>
          <td>{{ section.course?.name }}</td>
          <td>{{ section.academic_level }}</td>
          <td>{{ section.section_number }}</td>
          <td>
            <p-button (click)="onSelectSection(section)"
              >View Students</p-button
            >
          </td>
        </tr>
      </ng-template>
    </p-table>
    <div>
      <!-- <table>
        <thead>
          <tr>
            <th>Course</th>
            <th>Academic Level</th>
            <th>Section Number</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let section of sections" (click)="onSelectSection(section)">
            <td>{{ section.course?.name }}</td>
            <td>{{ section.academic_level }}</td>
            <td>{{ section.section_number }}</td>
            <td>
              <button (click)="onSelectSection(section)">View Students</button>
            </td>
          </tr>
        </tbody>
      </table> -->
    </div>
  </p-card>

  <div *ngIf="selectedSection" class="py-3">
    <p-card
      [header]="'Students in Section ' + selectedSection.section_number"
      class="student"
    >
      <p-table
        [value]="students"
        styleClass="p-datatable-gridlines"
        [tableStyle]="{ 'min-width': '50rem' }"
      >
        <ng-template pTemplate="header">
          <tr>
            <th>ID</th>
            <th>Last Name</th>
            <th>First Name</th>
            <th>Middle Name</th>
            <!-- <th>Academic Level</th> -->
            <!-- <th>Section Number</th> -->
            <!-- <th>Action</th> -->
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-student>
          <tr>
            <td>{{ student.unique_id }}</td>
            <td>{{ student.last_name }}</td>
            <td>{{ student.first_name }}</td>
            <td>{{ student.middle_name }}</td>
            <!-- <td>{{ student.firstname }}</td> -->
            <!-- <td>{{ student.section_number }}</td> -->
          </tr>
        </ng-template>
      </p-table>
    </p-card>
    <!-- <h2>Students in Section {{ selectedSection.section_number }}</h2> -->
  </div>

  <!-- <div *ngIf="loadingSections">Loading sections...</div>
  <table *ngIf="!loadingSections">
  </table>

  <div *ngIf="loadingStudents">Loading students...</div>
  <table *ngIf="!loadingStudents">
  </table> -->
</div>
